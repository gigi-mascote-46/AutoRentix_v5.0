import{x as w,g as x,c as i,o as s,a as t,h as n,v as h,u as l,F as m,b as v,i as b,l as V,t as _}from"./app-BYGx8XyK.js";import{_ as k}from"./AdminLayout-DFZ8S4sR.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F=["value"],M={class:"photo-previews"},U=["src"],j=["src"],q=Object.assign({layout:k},{__name:"Edit",props:{bem:Object,marcas:Array},setup(u){const a=u,r=w({marca_id:a.bem.marca_id||"",modelo:a.bem.modelo||"",cor:a.bem.cor||"",preco_diario:a.bem.preco_diario||0,photos:[]}),p=x([]);function c(f){const e=f.target.files;r.photos=[],p.value=[];for(let o=0;o<e.length;o++){r.photos.push(e[o]);const d=new FileReader;d.onload=y=>{p.value.push(y.target.result)},d.readAsDataURL(e[o])}}function g(){r.put(route("admin.vehicles.update",a.bem.id))}return(f,e)=>(s(),i("div",null,[e[10]||(e[10]=t("h1",null,"Editar Viatura",-1)),t("form",{onSubmit:V(g,["prevent"])},[t("div",null,[e[4]||(e[4]=t("label",{for:"marca"},"Marca:",-1)),n(t("select",{"onUpdate:modelValue":e[0]||(e[0]=o=>l(r).marca_id=o),id:"marca",required:""},[(s(!0),i(m,null,v(u.marcas,o=>(s(),i("option",{key:o.id,value:o.id},_(o.nome),9,F))),128))],512),[[h,l(r).marca_id]])]),t("div",null,[e[5]||(e[5]=t("label",{for:"modelo"},"Modelo:",-1)),n(t("input",{type:"text",id:"modelo","onUpdate:modelValue":e[1]||(e[1]=o=>l(r).modelo=o),required:""},null,512),[[b,l(r).modelo]])]),t("div",null,[e[6]||(e[6]=t("label",{for:"cor"},"Cor:",-1)),n(t("input",{type:"text",id:"cor","onUpdate:modelValue":e[2]||(e[2]=o=>l(r).cor=o),required:""},null,512),[[b,l(r).cor]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"preco_diario"},"Preço Diário (€):",-1)),n(t("input",{type:"number",id:"preco_diario","onUpdate:modelValue":e[3]||(e[3]=o=>l(r).preco_diario=o),step:"0.01",required:""},null,512),[[b,l(r).preco_diario,void 0,{number:!0}]])]),t("div",null,[e[8]||(e[8]=t("label",{for:"photos"},"Fotos do Veículo:",-1)),t("input",{type:"file",id:"photos",multiple:"",onChange:c},null,32)]),t("div",M,[(s(!0),i(m,null,v(p.value,(o,d)=>(s(),i("div",{key:d,class:"photo-preview"},[t("img",{src:o,alt:"Preview",class:"object-cover w-32 h-24"},null,8,U)]))),128)),(s(!0),i(m,null,v(u.bem.photos,o=>(s(),i("div",{key:o.id,class:"photo-existing"},[t("img",{src:`/storage/${o.photo_path}`,alt:"Existing Photo",class:"object-cover w-32 h-24"},null,8,j)]))),128))]),e[9]||(e[9]=t("button",{type:"submit"},"Salvar",-1))],32)]))}}),B=E(q,[["__scopeId","data-v-16bb3673"]]);export{B as default};
